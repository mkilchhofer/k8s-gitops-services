ingress-nginx:
  controller:
    image:
      allowPrivilegeEscalation: false
    service:
      externalTrafficPolicy: Local
    containerSecurityContext:
      capabilities:
        add:
          - NET_BIND_SERVICE
        drop:
          - ALL
      runAsUser: 101
      allowPrivilegeEscalation: false
      readOnlyRootFilesystem: false

    metrics:
      enabled: true
      service:
        annotations:
          prometheus.io/scrape: "true"
          prometheus.io/port: "10254"
          prometheus.io/honor_labels: "true"
        clusterIP: None

    admissionWebhooks:
      certManager:
        enabled: true

  defaultBackend:
    enabled: true
    resources:
      limits:
        cpu: 100m
        memory: 50Mi
      requests:
        cpu: 1m
        memory: 8Mi
