athens-proxy:
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 10m
      memory: 64Mi

  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
      - ALL
    readOnlyRootFilesystem: true
    runAsNonRoot: true
    runAsUser: 1000
    seccompProfile:
      type: RuntimeDefault

  ingress:
    enabled: true
    annotations:
      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      cert-manager.io/cluster-issuer: letsencrypt
    className: nginx-internal
    hosts:
      - host: athens-proxy.tools.kilchhofer.info
        paths:
        - path: /
          pathType: Prefix
    tls:
      - hosts:
        - athens-proxy.tools.kilchhofer.info
        secretName: athens-proxy-ingress-cert

  extraVolumeMounts:
  - mountPath: /tmp
    name: tmp-dir

  extraVolumes:
  - name: tmp-dir
    emptyDir: {}
