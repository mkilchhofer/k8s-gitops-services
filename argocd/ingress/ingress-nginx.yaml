---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: ingress-nginx
  namespace: argocd
spec:
  destination:
    namespace: ingress
    server: https://kubernetes.default.svc
  project: core-services-unrestricted
  syncPolicy: {}
  source:
    chart: ingress-nginx
    repoURL: https://kubernetes.github.io/ingress-nginx/
    targetRevision: 4.4.0
    helm:
      version: v3
      values: |-
        controller:
          image:
            allowPrivilegeEscalation: false
          ingressClass: nginx-external
          ingressClassResource:
            name: nginx-external
          service:
            loadBalancerIP: "192.168.93.90"
          containerSecurityContext:
            capabilities:
              add:
                - NET_BIND_SERVICE
              drop:
                - ALL
            runAsUser: 101
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: false
